@*
 * Copyright 2021 HM Revenue & Customs
 *
 *@

@this(main_template: views.html.main_template, form: uk.gov.hmrc.play.views.html.helpers.FormWithCSRF)
@(selectProductsForm: Form[SelectProductsDto], items: List[(String, String)], path: ProductPath)(implicit request: Request[_], messages: Messages)

@import uk.gov.hmrc.play.views.html._
@import util.prefixErrorMessage

@title = {
    @messages(s"select_products.heading.${path.toMessageKey}")
}

@main_template(title = prefixErrorMessage(title.toString, selectProductsForm.hasErrors), bodyClasses = None) {

    @views.html.tags.errors(selectProductsForm, Some(path))

    @form(action = routes.SelectProductController.processProductSelection(path)){

        <div class="form-group">

            <fieldset aria-describedby="product-hint">

                <legend>
                    <h1 class="heading-xlarge">@title.toString</h1>
                </legend>

                <span id="product-hint" class="body-text">@messages("label.select_all_that_apply")</span>
                @if(path.toMessageKey.contains("alcohol") || path.toMessageKey.contains("tobacco")){
                    @components.input_check_box(
                    selectProductsForm("tokens"),
                    inputs = items,
                    Some(path),
                    errorPrefix = Some(messages("label.error")))
                }else{
                    @components.input_radio_group_for_list(
                    selectProductsForm("tokens"),
                    items,
                    path = Some(path),
                    '_groupClass -> "form-group",
                    '_error_id -> "othergoods-error-message",
                    '_errorPrefix -> messages("label.error"))
                }

            </fieldset>

        </div>

        <div class="form-group">
            <button type="submit" class="button">@messages("label.continue")</button>
        </div>

    }
}
